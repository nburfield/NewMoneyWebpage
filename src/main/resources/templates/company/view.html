<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">

    <title th:inline="text">Company [[${company.ticker}]]</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 
    <link href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.4/css/bootstrap.min.css"
          th:href="@{/webjars/bootstrap/3.3.4/css/bootstrap.min.css}"
          rel="stylesheet" media="screen" />
       
    <link href="http://cdn.jsdelivr.net/webjars/org.webjars/datatables/1.10.12/css/dataTables.bootstrap.css"
          th:href="@{/webjars/datatables/1.10.12/css/dataTables.bootstrap.css}"
          rel="stylesheet" media="screen" />
 
    <script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.4/jquery.min.js"
            th:src="@{/webjars/jquery/2.1.4/jquery.min.js}"></script>
            
    <script src="http://cdn.jsdelivr.net/webjars/org.webjars/bootstrap/3.3.4/js/bootstrap.min.js"
            th:src="@{/webjars/bootstrap/3.3.4/js/bootstrap.min.js}"></script>
                           
    <script src="http://cdn.jsdelivr.net/webjars/org.webjars/datatables/1.10.12/js/dataTables.bootstrap.min.js"
            th:src="@{/webjars/datatables/1.10.12/js/dataTables.bootstrap.min.js}"></script>
 
    <script src="http://cdn.jsdelivr.net/webjars/org.webjars/datatables/1.10.12/js/jquery.dataTables.min.js"
            th:src="@{/ webjars/datatables/1.10.12/js/jquery.dataTables.min.js}"></script>
            
    <link href="../static/css/application.css"
          th:href="@{/css/application.css}" rel="stylesheet" media="screen"/>
          
    <script src="../static/js/company.js"
          th:src="@{/js/company.js}"></script>
          
</head>

<body>
  
  <div class="container center-jumbotron">
    <div class="jumbotron">
      <h2 class="display-1 text-center" th:text="${company.name}">Name</h2>
    </div>
  </div>

  <div class="container center-jumbotron" id="accordion" role="tablist" aria-multiselectable="true">
    <p>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-parent="#accordion" data-target="#graph" aria-expanded="true" aria-controls="graph">
        Graph
      </button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-parent="#accordion" data-target="#raw-data" aria-expanded="false" aria-controls="raw-data">
        Raw Data
      </button>
    </p>
    
    <div class="card">
      <div id="graph" class="collapse in" role="tabpanel" aria-labelledby="Graph">
        <iframe th:src="@{/company/chart/} + ${company.ticker}"></iframe>
      </div>
    </div>
    
    <div class="card">      
      <div id="raw-data" class="collapse" role="tabpanel" aria-labelledby="RawData">
        <div class="card-block">
            <table id="sorted-table" class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Open</th>
                  <th>High</th>
                  <th>Low</th>
                  <th>Close</th>
                  <th>Volume</th>
                  <th>Adjusted Close</th>
                </tr>
              </thead>
              <tr th:each="hd : ${historicalData}">
                <td th:inline="text">[[${hd.year}]]/[[${hd.month}]]/[[${hd.day}]]</td>
                <td th:text="${#numbers.formatDecimal(hd.open,1,2)}">2</td>
                <td th:text="${#numbers.formatDecimal(hd.high,1,2)}">3</td>
                <td th:text="${#numbers.formatDecimal(hd.low,1,2)}">4</td>
                <td th:text="${#numbers.formatDecimal(hd.close,1,2)}">5</td>
                <td th:text="${#numbers.formatInteger(hd.volume,3,'COMMA')}">6</td>
                <td th:text="${#numbers.formatDecimal(hd.adjustedClose,1,2)}">7</td>
              </tr>
            </table>
        </div>
      </div>
    </div>
  </div>

</body>
</html>